
/***************************************************************************\
*																			*
*							3D rozhraní - DirectX 7							*
*																			*
\***************************************************************************/

// --------------------- vypnuto pro MINI verzi --------------------
#ifndef _MINI

/////////////////////////////////////////////////////////////////////////////
// inicializace rozhraní DirectDraw 7 (vrací TRUE=rozhraní je vytvořeno)

bool D3DX7InitDD();
void D3DX7TermDD();

/////////////////////////////////////////////////////////////////////////////
// vytvoření primárniho povrchu, není-li vytvořen (vrací TRUE=OK)

bool D3DX7InitPrim();
void D3DX7TermPrim();

/////////////////////////////////////////////////////////////////////////////
// vytvoření clipperu, není-li vytvořen (vrací TRUE=OK)

bool D3DX7InitClip();
void D3DX7TermClip();

/////////////////////////////////////////////////////////////////////////////
// inicializace rozhraní Direct3D 7 (vrací TRUE=rozhraní je vytvořeno)

bool D3DX7InitD3();
void D3DX7TermD3();

/////////////////////////////////////////////////////////////////////////////
// vytvoření renderovacího povrchu, není-li vytvořen (vrací TRUE=OK)

bool D3DX7InitRend(bool hw);
void D3DX7TermRend();

/////////////////////////////////////////////////////////////////////////////
// vytvoření Z-bufferu, není-li vytvořen (vrací TRUE=OK)

bool D3DX7InitZBuf(bool hw, DDPIXELFORMAT* pf);
void D3DX7TermZBuf();

/////////////////////////////////////////////////////////////////////////////
// nastavení viewportu (vrací TRUE=operace OK)

bool D3DX7SetView();
void D3DX7SizeView();
void D3DX7MoveView();

/////////////////////////////////////////////////////////////////////////////
// vytvoření renderovacího zařízení (vrací TRUE=inicializace OK)
// typ zařízení: 1=HAL,2=TnLHal,3=REF,4=RGB,5=MMX,6=Ramp,7=Null

bool D3DX7InitDev(int type);
void D3DX7TermDev();

/////////////////////////////////////////////////////////////////////////////
// zahájení funkce zařízení (vrací TRUE=inicializace OK)
// typ zařízení: 1=HAL,2=TnLHal,3=REF,4=RGB,5=MMX,6=Ramp,7=Null

bool D3DX7Start(int type);
void D3DX7Stop();

/////////////////////////////////////////////////////////////////////////////
// vymazání renderovací plochy

void D3DX7Clear();

/////////////////////////////////////////////////////////////////////////////
// zobrazení renderovacího bufferu

void D3DX7Disp();

/////////////////////////////////////////////////////////////////////////////
// aktualizace projekční matice

void D3DX7AktProj();

/////////////////////////////////////////////////////////////////////////////
// aktualizace pohledové matice

void D3DX7AktView();

/////////////////////////////////////////////////////////////////////////////
// zahájení renderování scény

void D3DX7Begin();

/////////////////////////////////////////////////////////////////////////////
// ukončení renderování scény

void D3DX7End();

/////////////////////////////////////////////////////////////////////////////
// vyrenderování jednoho objektu

void D3DX7Render(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// resetování objektu před ukončením ovladače

void D3DX7Reset(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// resetování sínu objektu před ukončením ovladače

void D3DX7SReset(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// aktualizovat přepínač vyplňování ploch

void D3DX7AktWireframe();

/////////////////////////////////////////////////////////////////////////////
// aktualizovat přepínač osvětlení

void D3DX7AktLightOn();

/////////////////////////////////////////////////////////////////////////////
// aktualizovat přepínač plynulého stinování

void D3DX7AktShades();

/////////////////////////////////////////////////////////////////////////////
// aktualizovat přepínač odstraňování ploch

void D3DX7AktCulling();

/////////////////////////////////////////////////////////////////////////////
// aktualizovat přepínač filtrace zvětšených textur

void D3DX7AktMagFilter(int stage);

/////////////////////////////////////////////////////////////////////////////
// aktualizovat přepínač filtrace zmenšených a vzdálených textur

void D3DX7AktMinMipFilter(int stage);

/////////////////////////////////////////////////////////////////////////////
// aktualizace položky světla

void D3DX7AktLight(int inx, D3DLITEM* item);

/////////////////////////////////////////////////////////////////////////////
// nastavení materiálu

void D3DX7SetMaterial(D3DMITEM* item);

/////////////////////////////////////////////////////////////////////////////
// resetování položky textury před ukončením ovladače

void D3DX7TextureRes(D3DTITEM* item);

/////////////////////////////////////////////////////////////////////////////
// nastavení a zapnutí textury

void D3DX7TextureSet(D3DTITEM* item, int stage);

/////////////////////////////////////////////////////////////////////////////
// zapnutí původní textury

inline void D3DX7TextureOn(D3DTITEM* item, int stage) { D3DX7TextureSet(item, stage); }

/////////////////////////////////////////////////////////////////////////////
// vypnutí textury

void D3DX7TextureOff(int stage);

/////////////////////////////////////////////////////////////////////////////
// resetování položky světla

void D3DX7LightReset(int inx, D3DLITEM* item);

/////////////////////////////////////////////////////////////////////////////
// aktualizace ambient osvětlení

void D3DX7AktAmbient();

/////////////////////////////////////////////////////////////////////////////
// volná videopaměť

int D3DX7Free();

/////////////////////////////////////////////////////////////////////////////
// aktualizace mlhy

void D3DX7AktFog();

/////////////////////////////////////////////////////////////////////////////
// zapnutí mlhy

void D3DX7FogOn(BOOL on);

/////////////////////////////////////////////////////////////////////////////
// aktualizace stavu

void D3DX7AktState();

/////////////////////////////////////////////////////////////////////////////
// aktualizace blending operací objektu

void D3DX7AktBlend(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// aktualizace referenční úrovně alfa

void D3DX7AktAlfa(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// nastavení operace barev

void D3DX7SetColorOp(int op, int arg1, int arg2, int stage);

/////////////////////////////////////////////////////////////////////////////
// nastavení operace alfa

void D3DX7SetAlphaOp(int op, int arg1, int arg2, int stage);

/////////////////////////////////////////////////////////////////////////////
// nastavení adresování textur

void D3DX7SetAddress(int adru, int adrv, int stage);

/////////////////////////////////////////////////////////////////////////////
// nastavení barvy okolí textur

//void D3DX7SetBorder(D3DFITEM* item, int stage);

/////////////////////////////////////////////////////////////////////////////
// nastavení zjemnění vzdálených textur

void D3DX7SetBias(float bias, int stage);

/////////////////////////////////////////////////////////////////////////////
// nastavení barvy faktoru textur

void D3DX7SetTFactor(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// nastavení Z funkce (1 až 8, v kódu DirectX, 0=vypnuto)

void D3DX7SetZFunc(int func);

/////////////////////////////////////////////////////////////////////////////
// nastavení Z zápisu

void D3DX7SetZWrite(BOOL write);

/////////////////////////////////////////////////////////////////////////////
// povolení stencil operací

void D3DX7SEnable(BOOL enable);

/////////////////////////////////////////////////////////////////////////////
// nastavení stencil operací

void D3DX7SetSOp(int fail, int zfail, int zpass);

/////////////////////////////////////////////////////////////////////////////
// nastavení stencil testu

void D3DX7SetSFunc(int func, int ref, DWORD mask);

/////////////////////////////////////////////////////////////////////////////
// nastavení zápisové masky do stencil bufferu

void D3DX7SetSMask(DWORD mask);

/////////////////////////////////////////////////////////////////////////////
// vyrenderování stínu jednoho objektu

void D3DX7Shadow(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// vykreslení stínů

void D3DX7Shadows();


#endif // _MINI
// --------------------- konec vypnutí pro MINI verzi -------------------
