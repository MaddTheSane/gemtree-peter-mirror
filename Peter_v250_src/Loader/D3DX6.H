
/***************************************************************************\
*																			*
*							3D rozhraní - DirectX 6							*
*																			*
\***************************************************************************/

// --------------------- vypnuto pro MINI verzi --------------------
#ifndef _MINI

/////////////////////////////////////////////////////////////////////////////
// inicializace rozhraní DirectDraw 6 (vrací TRUE=rozhraní je vytvoøeno)

bool D3DX6InitDD();
void D3DX6TermDD();

/////////////////////////////////////////////////////////////////////////////
// vytvoøení primárniho povrchu, není-li vytvoøen (vrací TRUE=OK)

bool D3DX6InitPrim();
void D3DX6TermPrim();

/////////////////////////////////////////////////////////////////////////////
// vytvoøení clipperu, není-li vytvoøen (vrací TRUE=OK)

bool D3DX6InitClip();
void D3DX6TermClip();

/////////////////////////////////////////////////////////////////////////////
// vytvoøení palet, nejsou-li vytvoøeny (vrací TRUE=OK)

bool D3DX6InitPal();
void D3DX6TermPal();

/////////////////////////////////////////////////////////////////////////////
// inicializace rozhraní Direct3D 6 (vrací TRUE=rozhraní je vytvoøeno)

bool D3DX6InitD3();
void D3DX6TermD3();

/////////////////////////////////////////////////////////////////////////////
// vytvoøení renderovacího povrchu, není-li vytvoøen (vrací TRUE=OK)

bool D3DX6InitRend(bool hw);
void D3DX6TermRend();

/////////////////////////////////////////////////////////////////////////////
// vytvoøení Z-bufferu, není-li vytvoøen (vrací TRUE=OK)

bool D3DX6InitZBuf(bool hw, DDPIXELFORMAT* pf);
void D3DX6TermZBuf();

/////////////////////////////////////////////////////////////////////////////
// vytvoøení renderovacího zaøízení (vrací TRUE=inicializace OK)
// typ zaøízení: 1=HAL,2=TnLHal,3=REF,4=RGB,5=MMX,6=Ramp,7=Null

bool D3DX6InitDev(int type);
void D3DX6TermDev();

/////////////////////////////////////////////////////////////////////////////
// aktualizace materiálu pozadí scény

void D3DX6AktBackMat();

/////////////////////////////////////////////////////////////////////////////
// vytvoøení materiálu pozadí scény

bool D3DX6InitBack();

/////////////////////////////////////////////////////////////////////////////
// zrušení materiálu pozadí scény

void D3DX6TermBack();

/////////////////////////////////////////////////////////////////////////////
// vytvoøení viewportu (vrací TRUE=inicializace OK)

bool D3DX6InitView();
void D3DX6SizeView();
void D3DX6MoveView();
void D3DX6TermView();

/////////////////////////////////////////////////////////////////////////////
// zahájení funkce zaøízení (vrací TRUE=inicializace OK)
// typ zaøízení: 1=HAL,2=TnLHal,3=REF,4=RGB,5=MMX,6=Ramp,7=Null

bool D3DX6Start(int type);
void D3DX6Stop();

/////////////////////////////////////////////////////////////////////////////
// vymazání renderovací plochy

void D3DX6Clear();

/////////////////////////////////////////////////////////////////////////////
// zobrazení renderovacího bufferu

void D3DX6Disp();

/////////////////////////////////////////////////////////////////////////////
// aktualizace projekèní matice

void D3DX6AktProj();

/////////////////////////////////////////////////////////////////////////////
// aktualizace pohledové matice

void D3DX6AktView();

/////////////////////////////////////////////////////////////////////////////
// zahájení renderování scény

void D3DX6Begin();

/////////////////////////////////////////////////////////////////////////////
// ukonèení renderování scény

void D3DX6End();

/////////////////////////////////////////////////////////////////////////////
// vyrenderování jednoho objektu

void D3DX6Render(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// resetování objektu pøed ukonèením ovladaèe

void D3DX6Reset(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// resetování stínu objektu pøed ukonèením ovladaèe

void D3DX6SReset(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// aktualizovat pøepínaè vyplòování ploch

void D3DX6AktWireframe();

/////////////////////////////////////////////////////////////////////////////
// aktualizovat pøepínaè osvìtlení

void D3DX6AktLightOn();

/////////////////////////////////////////////////////////////////////////////
// aktualizovat pøepínaè plynulého stinování

void D3DX6AktShades();

/////////////////////////////////////////////////////////////////////////////
// aktualizovat pøepínaè odstraòování ploch

void D3DX6AktCulling();

/////////////////////////////////////////////////////////////////////////////
// aktualizovat pøepínaè filtrace zvìtšených textur

void D3DX6AktMagFilter(int stage);

/////////////////////////////////////////////////////////////////////////////
// aktualizovat pøepínaè filtrace zmenšených a vzdálených textur

void D3DX6AktMinMipFilter(int stage);

/////////////////////////////////////////////////////////////////////////////
// aktualizace položky svìtla

void D3DX6AktLight(int inx, D3DLITEM* item);

/////////////////////////////////////////////////////////////////////////////
// nastavení materiálu

void D3DX6SetMaterial(D3DMITEM* item);

/////////////////////////////////////////////////////////////////////////////
// resetování položky textury pøed ukonèením ovladaèe

void D3DX6TextureRes(D3DTITEM* item);

/////////////////////////////////////////////////////////////////////////////
// nastavení a zapnutí textury

void D3DX6TextureSet(D3DTITEM* item, int stage);

/////////////////////////////////////////////////////////////////////////////
// zapnutí pùvodní textury

inline void D3DX6TextureOn(D3DTITEM* item, int stage) { D3DX6TextureSet(item, stage); }

/////////////////////////////////////////////////////////////////////////////
// vypnutí textury

void D3DX6TextureOff(int stage);

/////////////////////////////////////////////////////////////////////////////
// resetování položky materiálu

void D3DX6MatReset(D3DMITEM* item);

/////////////////////////////////////////////////////////////////////////////
// resetování položky svìtla

void D3DX6LightReset(int inx, D3DLITEM* item);

/////////////////////////////////////////////////////////////////////////////
// aktualizace ambient osvìtlení

void D3DX6AktAmbient();

/////////////////////////////////////////////////////////////////////////////
// volná videopamì

int D3DX6Free();

/////////////////////////////////////////////////////////////////////////////
// aktualizace mlhy

void D3DX6AktFog();

/////////////////////////////////////////////////////////////////////////////
// zapnutí mlhy

void D3DX6FogOn(BOOL on);

/////////////////////////////////////////////////////////////////////////////
// aktualizace stavu

void D3DX6AktState();

/////////////////////////////////////////////////////////////////////////////
// aktualizace blending operací objektu

void D3DX6AktBlend(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// aktualizace referenèní úrovnì alfa

void D3DX6AktAlfa(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// nastavení operace barev

void D3DX6SetColorOp(int op, int arg1, int arg2, int stage);

/////////////////////////////////////////////////////////////////////////////
// nastavení operace alfa

void D3DX6SetAlphaOp(int op, int arg1, int arg2, int stage);

/////////////////////////////////////////////////////////////////////////////
// nastavení adresování textur

void D3DX6SetAddress(int adru, int adrv, int stage);

/////////////////////////////////////////////////////////////////////////////
// nastavení barvy okolí textur

//void D3DX6SetBorder(D3DFITEM* item, int stage);

/////////////////////////////////////////////////////////////////////////////
// nastavení zjemnìní vzdálených textur

void D3DX6SetBias(float bias, int stage);

/////////////////////////////////////////////////////////////////////////////
// aktualizace palet

void D3DX6AktPalette(HWND wnd);

/////////////////////////////////////////////////////////////////////////////
// nastavení barvy faktoru textur

void D3DX6SetTFactor(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// nastavení Z funkce (1 až 8, v kódu DirectX, 0=vypnuto)

void D3DX6SetZFunc(int func);

/////////////////////////////////////////////////////////////////////////////
// nastavení Z zápisu

void D3DX6SetZWrite(BOOL write);

/////////////////////////////////////////////////////////////////////////////
// povolení stencil operací

void D3DX6SEnable(BOOL enable);

/////////////////////////////////////////////////////////////////////////////
// nastavení stencil operací

void D3DX6SetSOp(int fail, int zfail, int zpass);

/////////////////////////////////////////////////////////////////////////////
// nastavení stencil testu

void D3DX6SetSFunc(int func, int ref, DWORD mask);

/////////////////////////////////////////////////////////////////////////////
// nastavení zápisové masky do stencil bufferu

void D3DX6SetSMask(DWORD mask);

/////////////////////////////////////////////////////////////////////////////
// vyrenderování stínu jednoho objektu

void D3DX6Shadow(D3DFITEM* item);

/////////////////////////////////////////////////////////////////////////////
// vykreslení stínù

void D3DX6Shadows();


#endif // _MINI
// --------------------- konec vypnutí pro MINI verzi -------------------
